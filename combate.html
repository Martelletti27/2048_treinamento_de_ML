<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2048 - Clash of Intelligence</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="combate.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="combat-body">
    <div class="combat-wrapper">
        <!-- Main Content Area -->
        <div class="combat-main">
            <!-- Painel Esquerdo: Controles e Seleção de Modelos -->
            <div class="combat-sidebar left">
                <div class="nav-quick-access">
                    <a href="index.html" class="nav-link">
                        <i class="fas fa-graduation-cap"></i> Treinamento
                    </a>
                </div>
                
                <div class="combat-controls">
                    <button id="btn-play" class="combat-btn btn-play">
                        <i class="fas fa-play"></i> FIGHT!
                    </button>
                    <button id="btn-pause" class="combat-btn btn-pause" disabled>
                        <i class="fas fa-pause"></i> PAUSE
                    </button>
                    <button id="btn-reset" class="combat-btn btn-reset">
                        <i class="fas fa-redo"></i> RESET
                    </button>
                </div>
                <div class="speed-control">
                    <label><i class="fas fa-tachometer-alt"></i> Velocidade:</label>
                    <input type="range" id="speed-slider" min="1" max="100" value="50">
                    <span id="speed-value">1x</span>
                    <label class="no-limits-label">
                        <input type="checkbox" id="no-limits-checkbox">
                        <span>No limits</span>
                    </label>
                </div>
                
                <h3><i class="fas fa-users"></i> Selecionar Combatentes</h3>
                
                <div class="selection-controls">
                    <button id="btn-random-6" class="select-all-btn">
                        <i class="fas fa-dice"></i> 6 Random Players
                    </button>
                    <button id="btn-deselect-all" class="select-all-btn">
                        <i class="fas fa-times"></i> Deselecionar Todos
                    </button>
                </div>
                
                <div class="model-selection-combat">
                    <div class="model-checkbox" data-model="random">
                        <input type="checkbox" id="model-random" value="random">
                        <label for="model-random"><i class="fas fa-dice"></i> Random</label>
                    </div>
                    <div class="model-checkbox" data-model="greedy">
                        <input type="checkbox" id="model-greedy" value="greedy">
                        <label for="model-greedy"><i class="fas fa-arrow-up"></i> Greedy</label>
                    </div>
                    <div class="model-checkbox" data-model="heuristic">
                        <input type="checkbox" id="model-heuristic" value="heuristic">
                        <label for="model-heuristic"><i class="fas fa-lightbulb"></i> Heuristic</label>
                    </div>
                    <div class="model-checkbox" data-model="weightedheuristic">
                        <input type="checkbox" id="model-weightedheuristic" value="weightedheuristic">
                        <label for="model-weightedheuristic"><i class="fas fa-balance-scale"></i> Weighted Heuristic</label>
                    </div>
                    <div class="model-checkbox" data-model="minimax">
                        <input type="checkbox" id="model-minimax" value="minimax">
                        <label for="model-minimax"><i class="fas fa-chess"></i> Minimax</label>
                    </div>
                    <div class="model-checkbox" data-model="alphabeta">
                        <input type="checkbox" id="model-alphabeta" value="alphabeta">
                        <label for="model-alphabeta"><i class="fas fa-cut"></i> Alpha-Beta</label>
                    </div>
                    <div class="model-checkbox" data-model="expectimax">
                        <input type="checkbox" id="model-expectimax" value="expectimax">
                        <label for="model-expectimax"><i class="fas fa-dice-d20"></i> Expectimax</label>
                    </div>
                    <div class="model-checkbox" data-model="montecarlo">
                        <input type="checkbox" id="model-montecarlo" value="montecarlo">
                        <label for="model-montecarlo"><i class="fas fa-dice-five"></i> Monte Carlo</label>
                    </div>
                    <div class="model-checkbox" data-model="qlearning">
                        <input type="checkbox" id="model-qlearning" value="qlearning">
                        <label for="model-qlearning"><i class="fas fa-brain"></i> Q-Learning</label>
                    </div>
                    <div class="model-checkbox" data-model="sarsa">
                        <input type="checkbox" id="model-sarsa" value="sarsa">
                        <label for="model-sarsa"><i class="fas fa-project-diagram"></i> SARSA</label>
                    </div>
                    <div class="model-checkbox" data-model="tdlearning">
                        <input type="checkbox" id="model-tdlearning" value="tdlearning">
                        <label for="model-tdlearning"><i class="fas fa-wave-square"></i> TD-Learning</label>
                    </div>
                    <div class="model-checkbox" data-model="astar">
                        <input type="checkbox" id="model-astar" value="astar">
                        <label for="model-astar"><i class="fas fa-star"></i> A* Search</label>
                    </div>
                    <div class="model-checkbox" data-model="beamsearch">
                        <input type="checkbox" id="model-beamsearch" value="beamsearch">
                        <label for="model-beamsearch"><i class="fas fa-search"></i> Beam Search</label>
                    </div>
                    <div class="model-checkbox" data-model="iterativedeepening">
                        <input type="checkbox" id="model-iterativedeepening" value="iterativedeepening">
                        <label for="model-iterativedeepening"><i class="fas fa-layer-group"></i> Iterative Deepening</label>
                    </div>
                    <div class="model-checkbox" data-model="mcts">
                        <input type="checkbox" id="model-mcts" value="mcts">
                        <label for="model-mcts"><i class="fas fa-sitemap"></i> MCTS</label>
                    </div>
                    <div class="model-checkbox" data-model="geneticalgorithm">
                        <input type="checkbox" id="model-geneticalgorithm" value="geneticalgorithm">
                        <label for="model-geneticalgorithm"><i class="fas fa-dna"></i> Genetic Algorithm</label>
                    </div>
                    <div class="model-checkbox" data-model="policygradient">
                        <input type="checkbox" id="model-policygradient" value="policygradient">
                        <label for="model-policygradient"><i class="fas fa-chart-line"></i> Policy Gradient</label>
                    </div>
                    <div class="model-checkbox" data-model="neuralnetwork">
                        <input type="checkbox" id="model-neuralnetwork" value="neuralnetwork">
                        <label for="model-neuralnetwork"><i class="fas fa-network-wired"></i> Neural Network</label>
                    </div>
                    <div class="model-checkbox" data-model="dqn">
                        <input type="checkbox" id="model-dqn" value="dqn">
                        <label for="model-dqn"><i class="fas fa-robot"></i> DQN</label>
                    </div>
                    <div class="model-checkbox" data-model="actorcritic">
                        <input type="checkbox" id="model-actorcritic" value="actorcritic">
                        <label for="model-actorcritic"><i class="fas fa-theater-masks"></i> Actor-Critic</label>
                    </div>
                </div>
                
                <!-- Botão para abrir modal de modelos treinados -->
                <button id="btn-open-models-combat" style="
                    width: 100%;
                    margin-top: 15px;
                    padding: 10px;
                    background: rgba(245, 149, 99, 0.2);
                    border: 1px solid rgba(245, 149, 99, 0.4);
                    border-radius: 6px;
                    color: #f59563;
                    font-weight: 600;
                    cursor: pointer;
                    transition: all 0.2s;
                    font-size: 12px;
                ">
                    <i class="fas fa-database"></i> Modelos Treinados
                </button>
                
                <!-- Seção separada para modelos treinados -->
                <div class="trained-models-selection" id="trained-models-selection" style="margin-top: 10px;">
                    <!-- Modelos treinados serão inseridos aqui -->
                </div>
            </div>
            
            <!-- Modal de Modelos Treinados (Combate) -->
            <div id="trained-models-modal-combat" class="modal-overlay" style="display: none;">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 style="color: #f59563; margin: 0; font-size: 18px;">
                            <i class="fas fa-database"></i> Modelos Treinados
                        </h3>
                        <button class="modal-close" id="btn-close-models-combat" style="background: transparent; border: none; color: #e2e8f0; font-size: 24px; cursor: pointer; padding: 0; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; border-radius: 4px; transition: all 0.2s;">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="modal-body" id="trained-models-combat-list">
                        <div style="color: #94a3b8; font-size: 12px; text-align: center; padding: 40px;">
                            Nenhum modelo treinado
                        </div>
                    </div>
                </div>
            </div>

            <!-- Centro: Arena de Combate -->
            <div class="combat-arena">
                <h2 class="arena-title"><i class="fas fa-swords"></i> ARENA DE COMBATE</h2>
                
                <!-- Timer e Gráfico lado a lado -->
                <div class="timer-chart-container">
                    <div class="central-timer-container">
                        <div class="countdown-overlay" id="countdown-overlay">
                            <div class="countdown-number" id="countdown-number">3</div>
                        </div>
                        <div class="fight-overlay" id="fight-overlay">
                            <div class="fight-text" id="fight-text">FIGHT!</div>
                        </div>
                        <div class="central-timer" id="central-timer">
                            <div class="timer-label">TEMPO DA ARENA</div>
                            <div class="timer-display" id="timer-display">05:00</div>
                            <div class="fight-indicator" id="fight-indicator">READY</div>
                        </div>
                    </div>
                    
                    <!-- Gráfico de Melhor Pontuação por Segundo -->
                    <div class="score-timeline-wrapper">
                        <canvas id="score-timeline-chart"></canvas>
                    </div>
                </div>
                
                <!-- Grid de Battle Cards -->
                <div class="battle-grid" id="battle-grid">
                    <!-- Battle Cards serão inseridos aqui -->
                </div>
            </div>

            <!-- Painel Direito: Pódio, Ranking e Hype Feed -->
            <div class="combat-sidebar right">
                <!-- Pódio -->
                <h3 class="podium-title"><i class="fas fa-trophy"></i> Pódio</h3>
                <div class="podium-glory">
                    <div class="podium-slot silver" id="podium-2">
                        <div class="podium-rank">2º</div>
                        <div class="podium-placeholder">
                            <i class="fas fa-medal"></i>
                            <span>Aguardando...</span>
                        </div>
                        <div class="podium-content" style="display: none;">
                            <div class="podium-name"></div>
                            <div class="podium-time"></div>
                        </div>
                    </div>
                    <div class="podium-slot gold" id="podium-1">
                        <div class="podium-rank">1º</div>
                        <div class="podium-placeholder">
                            <i class="fas fa-trophy"></i>
                            <span>Aguardando...</span>
                        </div>
                        <div class="podium-content" style="display: none;">
                            <div class="podium-name"></div>
                            <div class="podium-time"></div>
                        </div>
                    </div>
                    <div class="podium-slot bronze" id="podium-3">
                        <div class="podium-rank">3º</div>
                        <div class="podium-placeholder">
                            <i class="fas fa-medal"></i>
                            <span>Aguardando...</span>
                        </div>
                        <div class="podium-content" style="display: none;">
                            <div class="podium-name"></div>
                            <div class="podium-time"></div>
                        </div>
                    </div>
                </div>
                
                <!-- Gráfico de Ranking (integrado ao pódio) -->
                <div class="ranking-tabs">
                    <button class="ranking-tab active" data-tab="score">
                        <i class="fas fa-star"></i> Pontuação
                    </button>
                    <button class="ranking-tab" data-tab="tile">
                        <i class="fas fa-cube"></i> Maior Peça
                    </button>
                    <button class="ranking-tab" data-tab="games">
                        <i class="fas fa-gamepad"></i> Jogos
                    </button>
                </div>
                <div class="ranking-chart-wrapper">
                    <canvas id="ranking-chart"></canvas>
                </div>
                
                <!-- Hype Feed -->
                <h3 class="hype-feed-title"><i class="fas fa-bolt"></i> Hype Feed</h3>
                <div class="hype-feed">
                    <div class="feed-container" id="hype-feed-container">
                        <div class="feed-item">Aguardando início do combate...</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Confetti Container -->
    <div id="confetti-container"></div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest/dist/tf.min.js"></script>
    <script src="js/Game2048.js"></script>
    <script src="js/agents/RandomAgent.js"></script>
    <script src="js/agents/GreedyAgent.js"></script>
    <script src="js/agents/HeuristicAgent.js"></script>
    <script src="js/agents/WeightedHeuristicAgent.js"></script>
    <script src="js/agents/MinimaxAgent.js"></script>
    <script src="js/agents/AlphaBetaAgent.js"></script>
    <script src="js/agents/ExpectimaxAgent.js"></script>
    <script src="js/agents/MonteCarloAgent.js"></script>
    <script src="js/agents/QLearningAgent.js"></script>
    <script src="js/agents/SARSAAgent.js"></script>
    <script src="js/agents/TDLearningAgent.js"></script>
    <script src="js/agents/AStarAgent.js"></script>
    <script src="js/agents/BeamSearchAgent.js"></script>
    <script src="js/agents/IterativeDeepeningAgent.js"></script>
    <script src="js/agents/MCTSAgent.js"></script>
    <script src="js/agents/GeneticAlgorithmAgent.js"></script>
    <script src="js/agents/PolicyGradientAgent.js"></script>
    <script src="js/agents/NeuralNetworkAgent.js"></script>
    <script src="js/agents/DQNAgent.js"></script>
    <script src="js/agents/ActorCriticAgent.js"></script>
    <script src="combate.js"></script>
</body>
</html>

